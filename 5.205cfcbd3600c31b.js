"use strict";(self.webpackChunkgradus=self.webpackChunkgradus||[]).push([[5],{5005:(Fe,x,i)=>{i.r(x),i.d(x,{ManageUserModule:()=>Ee,routes:()=>P});var e=i(5e3),m=i(1083),c=i(9808),d=i(277),f=i(7423),g=i(3874);function q(s,l){if(1&s){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",8),e.TgZ(4,"input",10),e.NdJ("change",function(){const n=e.CHM(t).$implicit;return n.IsActive=!n.IsActive})("click",function(){return e.CHM(t),e.oxw().recordChange()}),e.qZA(),e.qZA(),e.qZA()}if(2&s){const t=l.$implicit;e.xp6(2),e.Oqu(t.splpermname),e.xp6(2),e.Q6J("checked",1==t.IsActive)}}let y=(()=>{class s{constructor(t,r,a){this.router=t,this._activeRoute=r,this._location=a,this.roleId=null,this.moduleId=5,this.access={btCreate:!1,btRead:!1,btUpdate:!1,btDelete:!1},this.items=[{splpermname:"Approve Purchase Indent",value1:!0,value2:!0,value3:!0,value4:!0},{splpermname:"Approve Purchase Quotation",value1:!0,value2:!0,value3:!0,value4:!0},{splpermname:"Approve Purchase Orde",value1:!0,value2:!0,value3:!0,value4:!0},{splpermname:"Approve Service Quotation",value1:!0,value2:!0,value3:!0,value4:!0},{splpermname:"Approve Service Indent\t",value1:!0,value2:!0,value3:!0,value4:!0},{splpermname:"Approve Work Order",value1:!0,value2:!0,value3:!0,value4:!0},{splpermname:"Approve GRN",value1:!0,value2:!0,value3:!0,value4:!0},{splpermname:"Approve ARN",value1:!0,value2:!0,value3:!0,value4:!0}]}ngOnInit(){this._activeRoute.paramMap.subscribe(t=>{console.log(t.get("id")),null!==t.get("id")&&void 0!==t.get("id")&&(this.roleId=t.get("id"),this.getSplPermissions(t.get("id")))})}backClicked(){this._location.back()}getSplPermissions(t){}recordChange(t){}saveSplPermissions(){}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(m.F0),e.Y36(m.gz),e.Y36(c.Ye))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-spl-permissions"]],decls:21,vars:1,consts:[["fxLayout","row wrap"],[1,"col-12"],["mat-raised-button","",1,"pull-right","btn-primary",3,"click"],["mat-raised-button","",1,"pull-right","btn-success","margin-right-10",3,"click"],[1,"table-responsive","flex-p","w-100"],["id","example2",1,"table","table-bordered","table-hover",2,"margin-top","15px"],[1,"tbl-head"],[1,"tr-grid-header"],[1,"style"],[4,"ngFor","ngForOf"],["type","checkbox",3,"checked","change","click"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"button",2),e.NdJ("click",function(){return r.backClicked()}),e.TgZ(3,"mat-icon"),e._uU(4,"arrow_back_ios"),e.qZA(),e._uU(5," Back "),e.qZA(),e.TgZ(6,"button",3),e.NdJ("click",function(){return r.saveSplPermissions()}),e.TgZ(7,"mat-icon"),e._uU(8,"save"),e.qZA(),e._uU(9," Save "),e.qZA(),e.qZA(),e.TgZ(10,"div",4),e.TgZ(11,"table",5),e.TgZ(12,"thead",6),e.TgZ(13,"tr",7),e.TgZ(14,"th"),e._uU(15,"Specal Permission"),e.qZA(),e.TgZ(16,"th",8),e._uU(17,"Allow"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"tbody"),e.YNc(19,q,5,2,"tr",9),e._UZ(20,"tr"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(19),e.Q6J("ngForOf",r.items))},directives:[d.xw,f.lW,g.Hw,c.sg],styles:[".style[_ngcontent-%COMP%]{text-align:center}"]}),s})();var o=i(3075),T=i(985),p=i(8966),h=i(4784);function I(s,l){1&s&&(e.TgZ(0,"span"),e._uU(1,"Add"),e.qZA())}function R(s,l){1&s&&(e.TgZ(0,"span"),e._uU(1,"Update"),e.qZA())}function k(s,l){if(1&s){const t=e.EpF();e.TgZ(0,"input",14),e.NdJ("keypress",function(a){return e.CHM(t),e.oxw().onlyAlphabets(a)}),e.qZA()}}function S(s,l){if(1&s){const t=e.EpF();e.TgZ(0,"input",15),e.NdJ("keypress",function(a){return e.CHM(t),e.oxw().onlyAlphabets(a)}),e.qZA()}}function w(s,l){1&s&&(e.TgZ(0,"div"),e._uU(1," Role Name is required "),e.qZA())}function M(s,l){if(1&s&&(e.TgZ(0,"div",16),e.YNc(1,w,2,0,"div",2),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.myGroup.controls.RoleName.errors.required)}}function O(s,l){1&s&&(e.TgZ(0,"span"),e._uU(1,"Save"),e.qZA())}function E(s,l){1&s&&(e.TgZ(0,"span"),e._uU(1,"Update"),e.qZA())}const J=function(s){return{"btn-disabled":s}};let F=(()=>{class s{constructor(t,r,a){this.fb=t,this.data=r,this.dialogRef=a,this.isSubmitting=!1,this.myGroup=this.fb.group({RoleId:new o.NI(""),RoleName:new o.NI(null,o.kI.compose([o.kI.required]))})}ngOnInit(){console.log(this.data),null!=this.data&&null!=this.data.data&&(this.role=this.data.data,this.myGroup.controls.RoleId.setValue(this.role.RoleId),this.myGroup.controls.RoleName.setValue(this.role.RoleName))}Upsertrole(){(this.data=null)?this.service.UpsertRole({RoleId:null,RoleName:this.myGroup.value.RoleName,CreatedBy:null,result:null}).subscribe(r=>{1==r.Success?this.alertService.createAlert("Role Added Successfully",1):this.alertService.createAlert(r.Message,0)}):this.service.UpsertRole({RoleId:this.myGroup.value.RoleId,RoleName:this.myGroup.value.RoleName,CreatedBy:null,result:null}).subscribe(a=>{1==a.Success?this.alertService.createAlert("Role Updated Successfully",1):this.alertService.createAlert(a.Message,0)}),this.close()}close(){this.dialogRef.close()}saveData(){this.alertService.createAlert("Successfully saved.",1)}inputNotAllowed(){return!1}onlyNumbers(t){let r;return r=t.charCode,r>47&&r<58}onlyAlphabets(t){let r;return r=t.charCode,r>64&&r<91||r>96&&r<123||32==r}alphaNumeric(t){let r;return r=t.charCode,r>47&&r<58||r>64&&r<91||r>96&&r<123}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(o.qu),e.Y36(p.WI),e.Y36(p.so))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-add-roles"]],decls:24,vars:12,consts:[[1,"NewHeader"],["mat-dialog-title",""],[4,"ngIf"],["autocomplete","off",1,"form-horizontal",3,"formGroup"],["mat-dialog-content",""],[1,"form-group"],[1,"control-label","col-sm-3","add-member-label"],[1,"col-lg-9","col-md-9","col-sm-9","col-xs-9"],["type","text","autocomplete","off","formControlName","RoleName","class","form-control","placeholder","Enter Role Name","maxlength","50","required","",3,"keypress",4,"ngIf"],["type","text","formControlName","RoleName","class","form-control","placeholder","Enter Role Name","maxlength","50","required","",3,"keypress",4,"ngIf"],["class","error-text",4,"ngIf"],["align","end"],["mat-raised-button","","type","button",1,"btn-primary",3,"ngClass","disabled","click"],["mat-raised-button","","type","button",2,"color","rgb(7, 10, 7)","background-color","#e0e0e0",3,"click"],["type","text","autocomplete","off","formControlName","RoleName","placeholder","Enter Role Name","maxlength","50","required","",1,"form-control",3,"keypress"],["type","text","formControlName","RoleName","placeholder","Enter Role Name","maxlength","50","required","",1,"form-control",3,"keypress"],[1,"error-text"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"h1",1),e.YNc(2,I,2,0,"span",2),e.YNc(3,R,2,0,"span",2),e._uU(4," Role "),e.qZA(),e.qZA(),e.TgZ(5,"form",3),e.TgZ(6,"div",4),e.TgZ(7,"div",5),e.TgZ(8,"label",6),e._uU(9,"Role: "),e.qZA(),e.TgZ(10,"div",7),e.YNc(11,k,1,0,"input",8),e.YNc(12,S,1,0,"input",9),e.YNc(13,M,2,1,"div",10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"mat-dialog-actions",11),e.TgZ(15,"button",12),e.NdJ("click",function(){return r.Upsertrole()}),e.TgZ(16,"mat-icon"),e._uU(17,"send"),e.qZA(),e.YNc(18,O,2,0,"span",2),e.YNc(19,E,2,0,"span",2),e.qZA(),e.TgZ(20,"button",13),e.NdJ("click",function(){return r.close()}),e.TgZ(21,"mat-icon"),e._uU(22,"cancel"),e.qZA(),e._uU(23," Close "),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngIf",!r.role),e.xp6(1),e.Q6J("ngIf",r.role),e.xp6(2),e.Q6J("formGroup",r.myGroup),e.xp6(6),e.Q6J("ngIf",!r.role),e.xp6(1),e.Q6J("ngIf",r.role),e.xp6(1),e.Q6J("ngIf",!r.myGroup.controls.RoleName.valid&&(r.myGroup.controls.RoleName.dirty||r.myGroup.controls.RoleName.touched)),e.xp6(2),e.Q6J("ngClass",e.VKq(10,J,!r.myGroup.valid))("disabled",!r.myGroup.valid),e.xp6(3),e.Q6J("ngIf",!r.role),e.xp6(1),e.Q6J("ngIf",r.role))},directives:[p.uh,c.O5,o._Y,o.JL,o.sg,p.xY,p.H8,f.lW,c.mk,h.oO,g.Hw,o.Fj,o.JJ,o.u,o.nD,o.Q7],styles:[".user-form[_ngcontent-%COMP%]   .form-field-outer[_ngcontent-%COMP%]{width:280px}.user-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{margin-right:12px}.btn-disabled[_ngcontent-%COMP%]{opacity:.5!important;cursor:not-allowed!important}"]}),s})();var A=i(1795),C=i(2313),N=i(6087),_=i(9224),Z=i(4107),v=i(508),U=i(9772);function D(s,l){if(1&s&&(e.TgZ(0,"mat-option",33),e._uU(1),e.qZA()),2&s){const t=l.$implicit;e.Q6J("value",t.RoleName),e.xp6(1),e.hij(" ",t.RoleName," ")}}function Q(s,l){if(1&s){const t=e.EpF();e.TgZ(0,"div",0),e.TgZ(1,"div",19),e.TgZ(2,"form",20),e.TgZ(3,"mat-card",21),e.TgZ(4,"mat-card-content"),e.TgZ(5,"div",22),e.TgZ(6,"div",23),e.TgZ(7,"div",24),e.TgZ(8,"b"),e._uU(9,"Keyword:"),e.qZA(),e.qZA(),e.TgZ(10,"div",25),e._UZ(11,"input",26),e.qZA(),e.qZA(),e.TgZ(12,"div",23),e.TgZ(13,"div",24),e.TgZ(14,"b"),e._uU(15,"Role:"),e.qZA(),e.qZA(),e.TgZ(16,"div",27),e.TgZ(17,"mat-select",28),e.YNc(18,D,2,2,"mat-option",29),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"div",23),e.TgZ(20,"a",30),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return a.filterToggle=!a.filterToggle}),e._UZ(21,"i",31),e.qZA(),e.TgZ(22,"button",6),e.NdJ("click",function(){return e.CHM(t),e.oxw().filter()}),e.TgZ(23,"mat-icon"),e._uU(24,"youtube_searched_for"),e.qZA(),e._uU(25," Search "),e.qZA(),e.TgZ(26,"button",32),e.NdJ("click",function(){return e.CHM(t),e.oxw().clearFilter()}),e.TgZ(27,"mat-icon"),e._uU(28,"settings_backup_restore"),e.qZA(),e._uU(29," Clear "),e.qZA(),e.qZA(),e._UZ(30,"div",4),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&s){const t=e.oxw();e.xp6(2),e.Q6J("formGroup",t.filterForm),e.xp6(16),e.Q6J("ngForOf",t.options)}}function Y(s,l){1&s&&(e.TgZ(0,"tr"),e.TgZ(1,"td",34),e._uU(2,"No records found"),e.qZA(),e.qZA())}const G=function(){return["/app/admin/manage-users/users"]};function z(s,l){if(1&s){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",14),e.TgZ(4,"a",35),e.NdJ("click",function(){const n=e.CHM(t).$implicit;return e.oxw().onuserclick(n)}),e._uU(5),e.qZA(),e.qZA(),e.TgZ(6,"td",14),e.TgZ(7,"a",36),e.NdJ("click",function(){const n=e.CHM(t).$implicit;return e.oxw().onpermclick(n)}),e._uU(8),e.qZA(),e.qZA(),e.TgZ(9,"td",15),e.TgZ(10,"a",37),e.NdJ("click",function(){const n=e.CHM(t).$implicit;return e.oxw().openEditDialog(n)}),e._UZ(11,"i",38),e.qZA(),e.TgZ(12,"a"),e.TgZ(13,"i",39),e.NdJ("click",function(){const n=e.CHM(t).$implicit;return e.oxw().deleteConfirmation(n)}),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&s){const t=l.$implicit;e.xp6(2),e.Oqu(t.RoleName),e.xp6(2),e.Q6J("routerLink",e.DdM(6,G)),e.xp6(1),e.AsE("",t.NoofUsers,"/",t.TotalUsers,""),e.xp6(3),e.AsE("",t.permissionCount,"/",t.totalPermissionCount," ")}}const L=function(){return[5,10,25,50,100]};let H=(()=>{class s{constructor(t,r,a,n,u,Je){this.dialog=t,this.fb=r,this._menuService=a,this.router=n,this._activeRoute=u,this.titleService=Je,this.tableList=[],this.pageSize=parseInt(localStorage.getItem("settings")?localStorage.getItem("settings"):"10"),this.currentPage=0,this.totalSize=0,this.tableListLookup=[],this.allReports=[],this.sortedData=[],this.filteredAlerts=[],this.popoverTitle="Confirm Delete",this.popoverMessage="Are you sure you want to delete this.?",this.popoverStatusTitle="Confirm Status Change",this.popoverStatusMessage="Are you sure you want to change status.?",this.cancelClicked=!1,this.popoversendTitle="Confirm Delete",this.roleDetails=[{RoleName:"Admin",NoofUsers:"11",TotalUsers:"59",permissionCount:"59",totalPermissionCount:"59"},{RoleName:"Manager",NoofUsers:"12",TotalUsers:"59",permissionCount:"59",totalPermissionCount:"59"},{RoleName:"SalesHead",NoofUsers:"31",TotalUsers:"59",permissionCount:"59",totalPermissionCount:"59"}],this.options=[],this.access={btCreate:!1,btRead:!1,btUpdate:!1,btDelete:!1},this.userslist=[],this.filterForm=this.fb.group({Role:new o.NI(""),Keyword:new o.NI("")}),this.type=this._activeRoute.snapshot.queryParams.r||null,this.navParameter=this._activeRoute.snapshot.queryParams.p||null}setTitle(t){}ngOnInit(){this.setTitle("OSIPL | Admin | Roles")}getAllRoles(){}NoofUsers(){this.roleDetails.forEach(t=>{var r=0;this.users.forEach(a=>{a.RoleId==t.RoleId&&r++}),this.userslist.push({Number:r,RoleName:t.RoleName})})}deleteRole(t){}openEditDialog(t){this.dialog.open(F,{data:{data:t},height:"auto",width:"550px"}).afterClosed().subscribe(a=>{this.getAllRoles()})}bindData(t){this.allRoles=t,this.filter()}filter(){this.filteredUsers=this.allRoles;let t=this.filterForm.controls.Keyword.value,r=this.filterForm.controls.Role.value;null!=t&&""!=t&&(this.filteredUsers=this.filteredUsers.filter(function(a){return JSON.stringify(a).toLowerCase().includes(t.toLowerCase())})),null!=r&&""!=r&&(this.filteredUsers=this.filteredUsers.filter(a=>a.RoleName==r)),this.roleDetails=this.filteredUsers.slice(this.currentPage*this.pageSize,this.currentPage*this.pageSize+this.pageSize),this.totalSize=this.filteredUsers.length,this.sortedData=this.roleDetails.slice(),console.log(this.roleDetails)}clearFilter(){this.filterForm.reset(),this.getAllRoles()}onuserclick(t){this.router.navigate(["app/admin/manage-users/users"])}onpermclick(t){this.router.navigate(["app/admin/manage-users/roles/permission"])}handlePage(t){this.getAllRoles(),this.allReports=this.roleDetails,this.currentPage=t.pageIndex,this.pageSize=t.pageSize,this.roleDetails=this.allReports.slice(this.currentPage*this.pageSize,this.currentPage*this.pageSize+this.pageSize),this.sortedData=this.roleDetails,console.log(this.sortedData)}deleteConfirmation(){this.dialog.open(T.z,{width:"auto",data:{component:null,title:"Delete Confirmation",content:"Are you sure you want to Delete?",isConfirmation:!0}}).afterClosed().subscribe(r=>{})}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(p.uw),e.Y36(o.qu),e.Y36(A.h),e.Y36(m.F0),e.Y36(m.gz),e.Y36(C.Dx))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-roles"]],decls:34,vars:8,consts:[["fxLayout","row wrap"],["resizedDiv",""],[1,"flex-p","w-100"],[1,"row",2,"margin-bottom","14px"],[1,"col-lg-6","col-md-6","col-sm-6","col-xs-6"],[1,"w-100","flex-p"],["mat-raised-button","","color","primary",1,"pull-right",3,"click"],["mat-raised-button","",1,"pull-right","margin-right-10",2,"background-color","black","color","white",3,"click"],["fxLayout","row wrap",4,"ngIf"],[2,"margin-left","13px"],[1,"table-responsive"],["id","example2",1,"table","table-bordered","table-hover"],[1,"tbl-head"],[1,"tr-grid-header"],[1,"text-center"],[2,"text-align","center !important"],[4,"ngIf"],[4,"ngFor","ngForOf"],["showFirstLastButtons","",3,"length","pageIndex","pageSize","pageSizeOptions","page"],["fxFlex","100","fxFlex.gt-sm","","fxFlex.sm","",1,"flex-p"],[3,"formGroup"],[1,"filter"],[1,"row","col-sm-12"],[1,"col-sm-4"],[1,"col-sm-3","newMarginClass"],[1,"col-sm-9"],["type","text","formControlName","Keyword","onCopy","return false","onPaste","return false","placeholder","Search by Name, Email, Role",1,"form-control"],[1,"col-sm-8"],["placeholder","Select Role","formControlName","Role",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],[1,"pull-right",2,"font-size","25px","cursor","pointer","margin-left","5px",3,"click"],["aria-hidden","true",1,"fa","fa-angle-double-up"],["mat-raised-button","",1,"pull-right","btn-default","margin-right-10",3,"click"],[3,"value"],["colspan","12",1,"text-center"],[2,"cursor","pointer","color","cornflowerblue",3,"routerLink","click"],[2,"cursor","pointer","color","cornflowerblue",3,"click"],["matTooltip","Edit Role",2,"margin-right","10px","cursor","pointer","color","cornflowerblue",3,"click"],[1,"fa","fa-edit"],["matTooltip","Delete Role",1,"fa","fa-trash","red",2,"cursor","pointer",3,"click"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0,1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e._UZ(5,"div",5),e.qZA(),e.TgZ(6,"div",4),e.TgZ(7,"div",5),e.TgZ(8,"button",6),e.NdJ("click",function(){return r.openEditDialog(null)}),e.TgZ(9,"mat-icon"),e._uU(10,"person_add"),e.qZA(),e._uU(11," Add Role "),e.qZA(),e.TgZ(12,"button",7),e.NdJ("click",function(){return r.filterToggle=!r.filterToggle}),e.TgZ(13,"mat-icon"),e._uU(14,"filter_list"),e.qZA(),e._uU(15," Filter "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(16,Q,31,2,"div",8),e.TgZ(17,"div",9),e.TgZ(18,"div",10),e.TgZ(19,"table",11),e.TgZ(20,"thead",12),e.TgZ(21,"tr",13),e.TgZ(22,"th"),e._uU(23,"Role"),e.qZA(),e.TgZ(24,"th",14),e._uU(25,"Users"),e.qZA(),e.TgZ(26,"th",15),e._uU(27,"Screen Permissions"),e.qZA(),e.TgZ(28,"th",15),e._uU(29,"Actions"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(30,"tbody"),e.YNc(31,Y,3,0,"tr",16),e.YNc(32,z,14,7,"tr",17),e.qZA(),e.qZA(),e.TgZ(33,"mat-paginator",18),e.NdJ("page",function(n){return r.handlePage(n)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(16),e.Q6J("ngIf",r.filterToggle),e.xp6(15),e.Q6J("ngIf",null==r.roleDetails||0==r.roleDetails.length),e.xp6(1),e.Q6J("ngForOf",r.roleDetails),e.xp6(1),e.Q6J("length",r.totalSize)("pageIndex",r.currentPage)("pageSize",r.pageSize)("pageSizeOptions",e.DdM(7,L)))},directives:[d.xw,f.lW,g.Hw,c.O5,c.sg,N.NW,d.yH,o._Y,o.JL,o.sg,_.a8,_.dn,o.Fj,o.JJ,o.u,Z.gD,v.ey,m.yS,U.gM],styles:[".margins[_ngcontent-%COMP%]{margin-bottom:12px}.newMarginClass[_ngcontent-%COMP%]{margin-top:7px!important}.confirm-btn-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100px!important;margin-left:10px}"]}),s})();var j=i(6561);function V(s,l){if(1&s&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.hij("",t.data?"Edit":"Add"," User")}}function W(s,l){1&s&&(e.TgZ(0,"div"),e._uU(1," User Name is required "),e.qZA())}function $(s,l){if(1&s&&(e.TgZ(0,"div",20),e.YNc(1,W,2,0,"div",2),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.myGroup.controls.UserName.errors.required)}}function B(s,l){1&s&&e._UZ(0,"input",21)}function K(s,l){1&s&&e._UZ(0,"input",22)}function X(s,l){1&s&&(e.TgZ(0,"div"),e._uU(1," Email is required "),e.qZA())}function ee(s,l){1&s&&(e.TgZ(0,"div"),e._uU(1," Please enter a valid Email. "),e.qZA())}function te(s,l){if(1&s&&(e.TgZ(0,"div",20),e.YNc(1,X,2,0,"div",2),e.YNc(2,ee,2,0,"div",2),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.myGroup.controls.UserEmail.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.myGroup.controls.UserEmail.errors?null:t.myGroup.controls.UserEmail.errors.email)}}function re(s,l){if(1&s){const t=e.EpF();e.TgZ(0,"input",23),e.NdJ("keypress",function(a){return e.CHM(t),e.oxw().onlyNumbers(a)}),e.qZA()}}function se(s,l){if(1&s){const t=e.EpF();e.TgZ(0,"input",23),e.NdJ("keypress",function(a){return e.CHM(t),e.oxw().onlyNumbers(a)}),e.qZA()}}function oe(s,l){1&s&&(e.TgZ(0,"div"),e._uU(1," Phone No is required "),e.qZA())}function ae(s,l){1&s&&(e.TgZ(0,"div"),e._uU(1,"Please Enter 10 digit Mobile Number. "),e.qZA())}function le(s,l){if(1&s&&(e.TgZ(0,"div",20),e.YNc(1,oe,2,0,"div",2),e.YNc(2,ae,2,0,"div",2),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.myGroup.controls.UserPhone.errors.required),e.xp6(1),e.Q6J("ngIf",!t.myGroup.controls.UserPhone.errors.required)}}function ne(s,l){if(1&s&&(e.TgZ(0,"mat-option",24),e._uU(1),e.qZA()),2&s){const t=l.$implicit;e.Q6J("value",t.RoleId),e.xp6(1),e.Oqu(t.RoleName)}}function ie(s,l){1&s&&(e.TgZ(0,"div"),e._uU(1," Role is required "),e.qZA())}function ce(s,l){if(1&s&&(e.TgZ(0,"div",20),e.YNc(1,ie,2,0,"div",2),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.myGroup.controls.RoleId.errors.required)}}function pe(s,l){1&s&&(e.TgZ(0,"span"),e._uU(1,"Save"),e.qZA())}function me(s,l){1&s&&(e.TgZ(0,"span"),e._uU(1,"Update"),e.qZA())}const ue=function(s){return{"btn-disabled":s}};let fe=(()=>{class s{constructor(t,r,a){this.fb=t,this.dialogRef=r,this.data=a,this.isSubmitting=!1,this.roles=[],this.emailPattern="^[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$",this.options=[{RoleName:"Admin",RoleId:1},{RoleName:"User",RoleId:2},{RoleName:"Client",RoleId:3},{RoleName:"Manager",RoleId:4}],this.myGroup=this.fb.group(null==this.data?{UserId:new o.NI(""),UserName:new o.NI("",o.kI.compose([o.kI.required])),UserEmail:new o.NI("",o.kI.compose([o.kI.required,o.kI.email])),UserPhone:new o.NI("",[o.kI.required,o.kI.minLength(10),o.kI.maxLength(10)]),RoleId:new o.NI("",o.kI.compose([o.kI.required])),RoleName:new o.NI("")}:{UserId:new o.NI(""),UserName:new o.NI(this.data.UserName,o.kI.compose([o.kI.required])),UserEmail:new o.NI("",o.kI.compose([o.kI.required,o.kI.email])),UserPhone:new o.NI(this.data.UserPhone,[o.kI.required,o.kI.minLength(10),o.kI.maxLength(10)]),RoleId:new o.NI(this.data.RoleId,o.kI.compose([o.kI.required])),RoleName:new o.NI(this.data.RoleName,o.kI.compose([o.kI.required]))})}ngOnInit(){console.log(this.data),this.service.GetAllUsers().subscribe(t=>{null!=t&&(this.users=t.Data)}),this.getAllRoles()}checkDuplicateUser(t){0==this.users.length?this.setvalues(t):this.users.forEach(r=>{r.UserName==t.UserName?this.alertService.createAlert("User Already Exists",0):this.setvalues(t)})}setvalues(t){this.myGroup=this.fb.group({UserId:new o.NI(t.UserId,o.kI.compose([o.kI.required])),UserName:new o.NI(t.UserName,o.kI.compose([o.kI.required])),UserEmail:new o.NI(t.UserEmail,o.kI.compose([o.kI.required,o.kI.email])),UserPhone:new o.NI(t.UserPhone,[o.kI.required,o.kI.minLength(10),o.kI.maxLength(10)]),RoleId:new o.NI(t.RoleId,o.kI.compose([o.kI.required]))})}getAllRoles(){this.service.GetAllRoles().subscribe(t=>{1==t.Success?this.options=t.Data:this.alertService.createAlert(t.Message,0)})}upsertuser(){if(console.log(this.data),null==this.data){var t={UserId:null,UserName:this.myGroup.value.UserName,UserEmail:this.myGroup.value.UserEmail,UserPhone:this.myGroup.value.UserPhone,RoleId:this.myGroup.value.RoleId,CreatedBy:localStorage.getItem("UserName"),result:null};console.log(t),this.service.UpsertUser(t).subscribe(r=>{null!=r&&(1==r.Success?(this.alertService.createAlert("User Added Successfully",1),this.dialogRef.close("SAVE")):this.alertService.createAlert(r.Message,0))})}else t={UserId:this.data.UserId,UserName:this.myGroup.value.UserName,UserEmail:this.myGroup.value.UserEmail,UserPhone:this.myGroup.value.UserPhone,RoleId:this.myGroup.value.RoleId,CreatedBy:localStorage.getItem("UserName"),result:null},this.service.UpsertUser(t).subscribe(a=>{null!=a&&(1==a.Success?(this.alertService.createAlert("User Updated Successfully",1),this.dialogRef.close("SAVE")):this.alertService.createAlert(a.Message,0))});this.myGroup.reset()}close(t){this.dialogRef.close("CANCEL")}saveData(){}inputNotAllowed(){return!1}onlyNumbers(t){let r;return r=t.charCode,r>47&&r<58}onlyAlphabets(t){let r;return r=t.charCode,r>64&&r<91||r>96&&r<123}alphaNumeric(t){let r;return r=t.charCode,r>47&&r<58||r>64&&r<91||r>96&&r<123}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(o.qu),e.Y36(p.so),e.Y36(p.WI))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-edit-user"]],decls:43,vars:17,consts:[[1,"NewHeader"],["mat-dialog-title",""],[4,"ngIf"],["autocomplete","off",1,"form-horizontal",3,"formGroup"],["mat-dialog-content",""],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"form-group"],[1,"control-label","col-lg-4","col-md-4","col-sm-4","col-xs-4","add-member-label"],[1,"col-lg-8","col-md-8","col-sm-8","col-xs-8"],["type","text","formControlName","UserName","placeholder","Enter User Name","required","",1,"form-control"],["class","error-text",4,"ngIf"],["type","text","formControlName","UserEmail","class","form-control","placeholder","Enter Email","maxlength","50","required","",4,"ngIf"],["disabled","","type","text","formControlName","UserEmail","class","form-control","placeholder","Enter Email","maxlength","50","required","",4,"ngIf"],["for","pwd",1,"control-label","col-lg-4","col-md-4","col-sm-4","col-xs-4","add-member-label"],["type","text","autocomplete","off","formControlName","UserPhone","class","form-control","placeholder","Enter Phone No","maxlength","10","required","",3,"keypress",4,"ngIf"],["formControlName","RoleId","placeholder","Select Role",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["align","end"],["mat-raised-button","","type","button",1,"btn-primary",3,"ngClass","disabled","click"],["mat-raised-button","","type","button",1,"mr-2",2,"color","rgb(7, 10, 7)","background-color","#e0e0e0",3,"click"],[1,"error-text"],["type","text","formControlName","UserEmail","placeholder","Enter Email","maxlength","50","required","",1,"form-control"],["disabled","","type","text","formControlName","UserEmail","placeholder","Enter Email","maxlength","50","required","",1,"form-control"],["type","text","autocomplete","off","formControlName","UserPhone","placeholder","Enter Phone No","maxlength","10","required","",1,"form-control",3,"keypress"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"h1",1),e.YNc(2,V,2,1,"span",2),e.qZA(),e.qZA(),e.TgZ(3,"form",3),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e.TgZ(6,"div",6),e.TgZ(7,"label",7),e._uU(8,"User Name: "),e.qZA(),e.TgZ(9,"div",8),e._UZ(10,"input",9),e.YNc(11,$,2,1,"div",10),e.qZA(),e.qZA(),e.TgZ(12,"div",6),e.TgZ(13,"label",7),e._uU(14,"Email: "),e.qZA(),e.TgZ(15,"div",8),e.YNc(16,B,1,0,"input",11),e.YNc(17,K,1,0,"input",12),e.YNc(18,te,3,2,"div",10),e.qZA(),e.qZA(),e.TgZ(19,"div",6),e.TgZ(20,"label",13),e._uU(21,"Phone Number: "),e.qZA(),e.TgZ(22,"div",8),e.YNc(23,re,1,0,"input",14),e.YNc(24,se,1,0,"input",14),e.YNc(25,le,3,2,"div",10),e.qZA(),e.qZA(),e.TgZ(26,"div",6),e.TgZ(27,"label",7),e._uU(28,"Role: "),e.qZA(),e.TgZ(29,"div",8),e.TgZ(30,"mat-select",15),e.YNc(31,ne,2,2,"mat-option",16),e.qZA(),e.YNc(32,ce,2,1,"div",10),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(33,"mat-dialog-actions",17),e.TgZ(34,"button",18),e.NdJ("click",function(){return r.upsertuser()}),e.TgZ(35,"mat-icon"),e._uU(36,"send"),e.qZA(),e.YNc(37,pe,2,0,"span",2),e.YNc(38,me,2,0,"span",2),e.qZA(),e.TgZ(39,"button",19),e.NdJ("click",function(){return r.close(r.data)}),e.TgZ(40,"mat-icon"),e._uU(41,"cancel"),e.qZA(),e._uU(42," Close "),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngIf",!r.user),e.xp6(1),e.Q6J("formGroup",r.myGroup),e.xp6(8),e.Q6J("ngIf",!r.myGroup.controls.UserName.valid&&(r.myGroup.controls.UserName.dirty||r.myGroup.controls.UserName.touched)),e.xp6(5),e.Q6J("ngIf",!r.user),e.xp6(1),e.Q6J("ngIf",r.user),e.xp6(1),e.Q6J("ngIf",!r.myGroup.controls.UserEmail.valid&&(r.myGroup.controls.UserEmail.dirty||r.myGroup.controls.UserEmail.touched)),e.xp6(5),e.Q6J("ngIf",!r.user),e.xp6(1),e.Q6J("ngIf",r.user),e.xp6(1),e.Q6J("ngIf",!r.myGroup.controls.UserPhone.valid&&(r.myGroup.controls.UserPhone.dirty||r.myGroup.controls.UserPhone.touched)),e.xp6(6),e.Q6J("ngForOf",r.options),e.xp6(1),e.Q6J("ngIf",!r.myGroup.controls.RoleId.valid&&(r.myGroup.controls.RoleId.dirty||r.myGroup.controls.RoleId.touched)),e.xp6(2),e.Q6J("ngClass",e.VKq(15,ue,!r.myGroup.valid))("disabled",!r.myGroup.valid),e.xp6(3),e.Q6J("ngIf",!r.user),e.xp6(1),e.Q6J("ngIf",r.user))},directives:[p.uh,c.O5,o._Y,o.JL,o.sg,p.xY,o.Fj,o.JJ,o.u,o.Q7,Z.gD,c.sg,p.H8,f.lW,c.mk,h.oO,g.Hw,o.nD,v.ey],styles:[".user-form[_ngcontent-%COMP%]   .form-field-outer[_ngcontent-%COMP%]{width:280px}.user-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{margin-right:12px}.user-form[_ngcontent-%COMP%]   .btn-disabled[_ngcontent-%COMP%]{opacity:.5!important;cursor:not-allowed!important}.user-form[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .user-form[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .user-form[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], .user-form[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .user-form[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], .user-form[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-color:inherit;border-style:solid}.user-form[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:first-child){border-top:1px solid currentColor!important}.user-form[_ngcontent-%COMP%]   .control-label[_ngcontent-%COMP%]{font-weight:700;margin-top:5px}.btn-disabled[_ngcontent-%COMP%]{opacity:.5!important;cursor:not-allowed!important}"]}),s})();function de(s,l){if(1&s&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",8),e._UZ(4,"input",10),e.qZA(),e.qZA()),2&s){const t=l.$implicit;e.xp6(2),e.Oqu(t.name)}}let b=(()=>{class s{constructor(t){this._location=t,this.screens=[{name:"Tata Motors Ltd.",value1:!0,value2:!0,value3:!0,value4:!0},{name:"Rajesh Exports Ltd",value1:!0,value2:!0,value3:!0,value4:!0},{name:"Indian Oil Corporation Ltd",value1:!0,value2:!0,value3:!0,value4:!0},{name:"NTPC Ltd",value1:!0,value2:!0,value3:!0,value4:!0},{name:"Vedanta Ltd",value1:!0,value2:!0,value3:!0,value4:!0},{name:"Grasim Industries Ltd.",value1:!0,value2:!0,value3:!0,value4:!0}]}ngOnInit(){}backClicked(){this._location.back()}savePermissions(){}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(c.Ye))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-proj-perm"]],decls:21,vars:1,consts:[["fxLayout","row wrap"],[1,"col-12"],["mat-raised-button","",1,"pull-right","btn-default","mb-3",3,"click"],["mat-raised-button","",1,"pull-right","btn-success","margin-right-10"],[1,"table-responsive","flex-p","w-100"],["id","example2",1,"table","table-bordered","table-hover"],[1,"tbl-head"],[1,"tr-grid-header"],[1,"text-center"],[4,"ngFor","ngForOf"],["type","checkbox","checked",""]],template:function(t,r){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"button",2),e.NdJ("click",function(){return r.backClicked()}),e.TgZ(3,"mat-icon"),e._uU(4,"chevron_left"),e.qZA(),e._uU(5," Back "),e.qZA(),e.TgZ(6,"button",3),e.TgZ(7,"mat-icon"),e._uU(8,"save"),e.qZA(),e._uU(9," Save "),e.qZA(),e.qZA(),e.TgZ(10,"div",4),e.TgZ(11,"table",5),e.TgZ(12,"thead",6),e.TgZ(13,"tr",7),e.TgZ(14,"th"),e._uU(15,"Screen Permissions"),e.qZA(),e.TgZ(16,"th",8),e._uU(17,"Allow"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"tbody"),e.YNc(19,de,5,1,"tr",9),e._UZ(20,"tr"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(19),e.Q6J("ngForOf",r.screens))},directives:[d.xw,f.lW,g.Hw,c.sg],styles:[""]}),s})();var ge=i(7947),he=i(7446);function _e(s,l){if(1&s&&(e.TgZ(0,"mat-option",34),e._uU(1),e.qZA()),2&s){const t=l.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.name," ")}}function Ze(s,l){if(1&s){const t=e.EpF();e.TgZ(0,"div",18),e.TgZ(1,"div",19),e.TgZ(2,"form",20),e.TgZ(3,"mat-card",21),e.TgZ(4,"mat-card-content"),e.TgZ(5,"div",22),e.TgZ(6,"div",23),e.TgZ(7,"div",24),e.TgZ(8,"b"),e._uU(9,"Keyword:"),e.qZA(),e.qZA(),e.TgZ(10,"div",25),e._UZ(11,"input",26),e.qZA(),e.qZA(),e.TgZ(12,"div",27),e.TgZ(13,"div",24),e.TgZ(14,"b"),e._uU(15,"Status:"),e.qZA(),e.qZA(),e.TgZ(16,"div",28),e.TgZ(17,"mat-select",29),e.YNc(18,_e,2,2,"mat-option",30),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"div",27),e.TgZ(20,"a",31),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return a.filterToggle=!a.filterToggle}),e._UZ(21,"i",32),e.qZA(),e.TgZ(22,"button",6),e.NdJ("click",function(){return e.CHM(t),e.oxw().filter()}),e.TgZ(23,"mat-icon"),e._uU(24,"youtube_searched_for"),e.qZA(),e._uU(25," Search "),e.qZA(),e.TgZ(26,"button",33),e.NdJ("click",function(){return e.CHM(t),e.oxw().clearFilter()}),e.TgZ(27,"mat-icon"),e._uU(28,"settings_backup_restore"),e.qZA(),e._uU(29," Clear "),e.qZA(),e.qZA(),e._UZ(30,"div",4),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&s){const t=e.oxw();e.xp6(2),e.Q6J("formGroup",t.filterForm),e.xp6(16),e.Q6J("ngForOf",t.Status)}}function ve(s,l){1&s&&(e.TgZ(0,"tr"),e.TgZ(1,"td",35),e._uU(2,"No records found"),e.qZA(),e.qZA())}function xe(s,l){if(1&s){const t=e.EpF();e.TgZ(0,"span",47),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return a.Confirmation(a.item)}),e._uU(1,"Inactive"),e.qZA()}}function Te(s,l){if(1&s){const t=e.EpF();e.TgZ(0,"span",48),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return a.Confirmation(a.item)}),e._uU(1,"Active"),e.qZA()}}const Ae=function(s){return{color:s,cursor:"pointer"}};function Ce(s,l){if(1&s){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td",14),e._uU(10),e.qZA(),e.TgZ(11,"td",36),e.TgZ(12,"a",37),e._uU(13,"6/6"),e.qZA(),e.qZA(),e.TgZ(14,"td",36),e.TgZ(15,"a",38),e._uU(16),e.qZA(),e.qZA(),e.TgZ(17,"td",39),e._UZ(18,"mat-checkbox"),e.qZA(),e.TgZ(19,"td",40),e.TgZ(20,"a",41),e.YNc(21,xe,2,0,"span",42),e.YNc(22,Te,2,0,"span",43),e.qZA(),e.qZA(),e.TgZ(23,"td",14),e.TgZ(24,"a",44),e.NdJ("click",function(){const n=e.CHM(t).$implicit;return e.oxw().openEditDialog(n)}),e._UZ(25,"i",45),e.qZA(),e.TgZ(26,"a"),e.TgZ(27,"i",46),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return a.deleteConfirmation(a.item)}),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&s){const t=l.$implicit;e.xp6(2),e.Oqu(t.UserName),e.xp6(2),e.hij("",t.UserEmail," "),e.xp6(2),e.Oqu(t.UserPhone),e.xp6(2),e.Oqu(t.RoleName),e.xp6(2),e.AsE(" ",t.rolescreens,"/",t.totalscreens," "),e.xp6(6),e.AsE("",t.splperm,"/",t.totalspl,""),e.xp6(4),e.Q6J("ngStyle",e.VKq(11,Ae,t.IsActive?"blue":"red")),e.xp6(1),e.Q6J("ngIf",!t.IsActive),e.xp6(1),e.Q6J("ngIf",t.IsActive)}}const Ne=function(){return[5,10,25,50,100]};let Ue=(()=>{class s{constructor(t,r,a,n,u){this.router=t,this.dialog=r,this.fb=a,this.titleService=n,this._menuService=u,this.access={btCreate:!1,btRead:!1,btUpdate:!1,btDelete:!1},this.tableList=[],this.pageSize=parseInt(localStorage.getItem("settings")?localStorage.getItem("settings"):"10"),this.currentPage=0,this.totalSize=0,this.tableListLookup=[],this.allReports=[],this.sortedData=[],this.filteredAlerts=[],this.status=[{id:1,value:"Active"},{id:2,value:"Inactive"}],this.Status=[{name:"Active",value:!0},{name:"Inactive",value:!1}],this.filteredUsers=[],this.popoverTitle="Confirm Delete",this.popoverMessage="Are you sure you want to delete this.?",this.popoverStatusTitle="Confirm Status Change",this.popoverStatusMessage="Are you sure you want to change status.?",this.cancelClicked=!1,this.popoversendTitle="Confirm Delete",this.allUsers=[],this.userData=[],this.users=[{UserName:"Admin",UserEmail:"Admin@optionmatrix.com",UserPhone:"9834578945",RoleName:"\tAdmin",rolescreens:"10",totalscreens:"56",splperm:"16",totalspl:"16",IsActive:"true"},{UserName:"Test Pavan",UserEmail:"Pavan@optionmatrix.com",UserPhone:"9584672150",RoleName:"\tTester",rolescreens:"21",totalscreens:"56",splperm:"16",totalspl:"16"},{UserName:"Satya",UserEmail:"Satya@optionmatrix.com",UserPhone:"7070938861",RoleName:"Developer",rolescreens:"43",totalscreens:"56",splperm:"16",totalspl:"16",IsActive:"true"},{UserName:"Surya",UserEmail:"Surya@optionmatrix.com",UserPhone:"9365874152",RoleName:"Developer",rolescreens:"53",totalscreens:"56",splperm:"16",totalspl:"16"}],this.sortedData=this.users.slice(),this.filterForm=this.fb.group({Status:new o.NI(null),Keyword:new o.NI("")})}setTitle(t){}ngOnInit(){this.setTitle("OSIPL | Admin | Manage User | User")}getallusers(){this.service.GetAllUsers().subscribe(t=>{null!=t&&(this.users=t.Data,this.sortedData=this.users.slice(),this.bindData(t.Data))})}deleteUser(t){this.service.DeleteUser({UserId:t.UserId,result:null}).subscribe(a=>{this.getallusers(),this.alertService.createAlert("User Deleted Successfully",1)})}changestatus(t){this.service.ChangeUserStatus({UserId:t.UserId}).subscribe(a=>{this.getallusers()}),this.alertService.createAlert("User Status Changed Successfully",1)}openEditDialog(t){this.dialog.open(fe,{data:t,height:"auto",width:"850px"}).afterClosed().subscribe(a=>{console.log(a,"data"),"SAVE"===a&&this.getallusers()})}onpermclick(t){this.router.navigate(["admin/manage-users/permission/"+t.RoleId])}openResetPassword(t){this.dialog.open(ge.m,{data:t,height:"auto",width:"550px"}).afterClosed().subscribe(a=>{this.getallusers()})}openProjectPermissions(){this.dialog.open(b,{data:null,height:"auto",width:"600px"})}bindData(t){this.allRoles=t,this.filter()}filter(){console.log(this.filterForm.value),this.filteredUsers=this.allRoles;let t=this.filterForm.controls.Keyword.value,r=this.filterForm.controls.Status.value;null!=t&&""!=t&&(this.filteredUsers=this.filteredUsers.filter(function(a){return JSON.stringify(a).toLowerCase().includes(t.toLowerCase())})),null!=r&&(this.filteredUsers=this.filteredUsers.filter(a=>a.IsActive==r)),this.users=this.filteredUsers.slice(this.currentPage*this.pageSize,this.currentPage*this.pageSize+this.pageSize),this.totalSize=this.filteredUsers.length,this.sortedData=this.users.slice()}clearFilter(){this.filterForm.reset(),this.getallusers()}handlePage(t){this.getallusers(),this.allReports=this.users,this.currentPage=t.pageIndex,this.pageSize=t.pageSize,this.users=this.allReports.slice(this.currentPage*this.pageSize,this.currentPage*this.pageSize+this.pageSize),this.sortedData=this.users,console.log(this.sortedData)}deleteConfirmation(){this.dialog.open(T.z,{width:"auto",data:{component:null,title:"Delete Confirmation",content:"Are you sure you want to Delete?",isConfirmation:!0}}).afterClosed().subscribe(r=>{})}Confirmation(){this.dialog.open(j.a,{width:"auto",data:{component:null,title:"Change Status",content:"Are you sure you want to Change the Status ?",isConfirmation:!0}}).afterClosed().subscribe(r=>{})}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(m.F0),e.Y36(p.uw),e.Y36(o.qu),e.Y36(C.Dx),e.Y36(A.h))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-users"]],decls:46,vars:8,consts:[["fxLayout","row wrap"],["resizedDiv",""],[1,"flex-p","w-100"],[1,"row",2,"margin-bottom","14px"],[1,"col-lg-6","col-md-6","col-sm-6","col-xs-6"],[1,"w-100","flex-p"],["mat-raised-button","","color","primary",1,"pull-right",3,"click"],["mat-raised-button","",1,"pull-right","filter-hover","margin-right-10",2,"background-color","black","color","white",3,"click"],["fxLayout","row wrap","style","margin-left: 5px;",4,"ngIf"],[1,"col-sm-12",2,"margin-left","13px"],[1,"table-responsive"],["id","example2",1,"table","table-bordered","table-hover"],[1,"tbl-head"],[1,"tr-grid-header"],[1,"text-center"],[4,"ngIf"],[4,"ngFor","ngForOf"],["showFirstLastButtons","",3,"length","pageIndex","pageSize","pageSizeOptions"],["fxLayout","row wrap",2,"margin-left","5px"],["fxFlex","100",1,"flex-p","w-100"],[3,"formGroup"],[1,"filter"],[1,"row","col-sm-12"],[1,"col-sm-4","row","me-2"],[1,"col-sm-3","newMarginClass"],[1,"col-sm-9"],["type","text","formControlName","Keyword","onCopy","return false","onPaste","return false","placeholder","Search by Name, Email, Role...",1,"form-control"],[1,"col-sm-4"],[1,"col-sm-8"],["placeholder","Select Status","formControlName","Status",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],[1,"pull-right",2,"font-size","25px","cursor","pointer","margin-left","5px",3,"click"],["aria-hidden","true",1,"fa","fa-angle-double-up"],["mat-raised-button","",1,"pull-right","btn-default","margin-right-10",3,"click"],[3,"value"],["colspan","10",1,"text-center"],[1,"text-center",2,"color","blue"],["routerLink","./proj-perm"],["routerLink","./spl-permissions"],[1,"style","text-center"],[1,"text-center",2,"text-align","center !important"],[3,"ngStyle"],["style","color:red",3,"click",4,"ngIf"],[3,"click",4,"ngIf"],["matTooltip","Edit User",2,"margin-right","10px","cursor","pointer","color","cornflowerblue",3,"click"],[1,"fa","fa-edit"],["matTooltip","Delete User",1,"fa","fa-trash","red",2,"cursor","pointer",3,"click"],[2,"color","red",3,"click"],[3,"click"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0,1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e._UZ(5,"div",5),e.qZA(),e.TgZ(6,"div",4),e.TgZ(7,"div",5),e.TgZ(8,"button",6),e.NdJ("click",function(){return r.openEditDialog(null)}),e.TgZ(9,"mat-icon"),e._uU(10,"person_add"),e.qZA(),e._uU(11," Add User "),e.qZA(),e.TgZ(12,"button",7),e.NdJ("click",function(){return r.filterToggle=!r.filterToggle}),e.TgZ(13,"mat-icon"),e._uU(14,"filter_list"),e.qZA(),e._uU(15," Filter "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(16,Ze,31,2,"div",8),e.TgZ(17,"div",9),e.TgZ(18,"div",10),e.TgZ(19,"table",11),e.TgZ(20,"thead",12),e.TgZ(21,"tr",13),e.TgZ(22,"th"),e._uU(23,"User Name"),e.qZA(),e.TgZ(24,"th"),e._uU(25,"Email"),e.qZA(),e.TgZ(26,"th"),e._uU(27,"Phone"),e.qZA(),e.TgZ(28,"th"),e._uU(29,"Role"),e.qZA(),e.TgZ(30,"th",14),e._uU(31,"Role-Permissions"),e.qZA(),e.TgZ(32,"th",14),e._uU(33,"Project-Permissions"),e.qZA(),e.TgZ(34,"th",14),e._uU(35,"Special-Permissions"),e.qZA(),e.TgZ(36,"th",14),e._uU(37,"Two-Factor"),e.qZA(),e.TgZ(38,"th",14),e._uU(39,"Status"),e.qZA(),e.TgZ(40,"th",14),e._uU(41,"Actions"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(42,"tbody"),e.YNc(43,ve,3,0,"tr",15),e.YNc(44,Ce,28,13,"tr",16),e.qZA(),e.qZA(),e._UZ(45,"mat-paginator",17),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(16),e.Q6J("ngIf",r.filterToggle),e.xp6(27),e.Q6J("ngIf",null==r.users||0==r.users.length),e.xp6(1),e.Q6J("ngForOf",r.users),e.xp6(1),e.Q6J("length",r.totalSize)("pageIndex",r.currentPage)("pageSize",r.pageSize)("pageSizeOptions",e.DdM(7,Ne)))},directives:[d.xw,f.lW,g.Hw,c.O5,c.sg,N.NW,d.yH,o._Y,o.JL,o.sg,_.a8,_.dn,o.Fj,o.JJ,o.u,Z.gD,v.ey,m.yS,he.oG,c.PC,h.Zl,U.gM],styles:['.margins[_ngcontent-%COMP%]{margin-bottom:12px}.newMarginClass[_ngcontent-%COMP%]{margin-top:7px!important}.confirm-btn-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100px!important;margin-left:10px}.switchToggle[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{height:0;width:0;visibility:hidden;position:absolute}.switchToggle[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;text-indent:-9999px;width:100px;max-width:100px;height:30px;background:#d1d1d1;display:block;border-radius:100px;position:relative}.switchToggle[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{content:"";position:absolute;top:2px;left:2px;width:26px;height:26px;background:#fff;border-radius:90px;transition:.3s}.switchToggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%], .switchToggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{background:#3e98d3}.switchToggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]:before, .switchToggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]:before{content:"Inactive";position:absolute;top:5px;left:35px;width:26px;height:26px;border-radius:90px;transition:.3s;text-indent:0;color:#fff}.switchToggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before, .switchToggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]:before{content:"Active";position:absolute;top:5px;left:10px;width:26px;height:26px;border-radius:90px;transition:.3s;text-indent:0;color:#fff}.switchToggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:after, .switchToggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]:after{left:calc(100% - 2px);transform:translate(-100%)}.switchToggle[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:active:after{width:60px}.toggle-switchArea[_ngcontent-%COMP%]{margin:10px 0}']}),s})();var be=i(2494);const Pe=function(s){return{active:s}};function qe(s,l){if(1&s){const t=e.EpF();e.TgZ(0,"li",15),e.TgZ(1,"a",16),e.NdJ("click",function(){const n=e.CHM(t).$implicit;return e.oxw().selectedModule=n}),e._uU(2),e.qZA(),e.qZA()}if(2&s){const t=l.$implicit,r=e.oxw();e.Q6J("ngClass",e.VKq(2,Pe,r.selectedModule.name===t.name)),e.xp6(2),e.hij(" ",t.name," ")}}function ye(s,l){1&s&&(e.TgZ(0,"mat-option"),e._uU(1,"Cancel"),e.qZA())}function Ie(s,l){1&s&&(e.TgZ(0,"mat-option"),e._uU(1,"Print"),e.qZA())}function Re(s,l){1&s&&(e.TgZ(0,"mat-option"),e._uU(1,"Email"),e.qZA())}function ke(s,l){1&s&&(e.TgZ(0,"mat-option"),e._uU(1,"Report"),e.qZA())}function Se(s,l){1&s&&(e.TgZ(0,"mat-option"),e._uU(1,"Import"),e.qZA())}function we(s,l){1&s&&(e.TgZ(0,"mat-option"),e._uU(1,"Export"),e.qZA())}function Me(s,l){1&s&&(e.TgZ(0,"mat-option"),e._uU(1,"Approve"),e.qZA())}function Oe(s,l){if(1&s&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",13),e._UZ(4,"input",17),e.qZA(),e.TgZ(5,"td",13),e._UZ(6,"input",17),e.qZA(),e.TgZ(7,"td",13),e._UZ(8,"input",17),e.qZA(),e.TgZ(9,"td",13),e._UZ(10,"input",17),e.qZA(),e.TgZ(11,"td",18),e.TgZ(12,"mat-select",19),e.YNc(13,ye,2,0,"mat-option",20),e.YNc(14,Ie,2,0,"mat-option",20),e.YNc(15,Re,2,0,"mat-option",20),e.YNc(16,ke,2,0,"mat-option",20),e.YNc(17,Se,2,0,"mat-option",20),e.YNc(18,we,2,0,"mat-option",20),e.YNc(19,Me,2,0,"mat-option",20),e.qZA(),e.qZA(),e.qZA()),2&s){const t=l.$implicit;e.xp6(2),e.Oqu(null==t?null:t.screenName),e.xp6(11),e.Q6J("ngIf",t.cancel),e.xp6(1),e.Q6J("ngIf",t.print),e.xp6(1),e.Q6J("ngIf",t.email),e.xp6(1),e.Q6J("ngIf",t.report),e.xp6(1),e.Q6J("ngIf",t.import),e.xp6(1),e.Q6J("ngIf",t.export),e.xp6(1),e.Q6J("ngIf",t.approve)}}const P=[{path:"",redirectTo:"users",pathMatch:"full"},{path:"users",component:Ue,data:{breadcrumb:"Manage Users",description:"This screen covers comprehensive list of users managed across the application. User profiles can be created, deleted or modified. Each user profile can be assigned to one or more projects and their respective project role(s) can be designated here."}},{path:"users/proj-perm",component:b},{path:"users/spl-permissions",component:y},{path:"roles",component:H,data:{breadcrumb:"Manage Roles",description:"This screen covers comprehensive list of users managed across the application. User profiles can be created, deleted or modified. Each user profile can be assigned to one or more projects and their respective project role(s) can be designated here."}},{path:"roles/permission",component:(()=>{class s{constructor(t,r,a,n){this._location=t,this.router=r,this._activeRoute=a,this.location=n,this.roleId=null,this.moduleId=5,this.items=[],this.access={btCreate:!1,btRead:!1,btUpdate:!1,btDelete:!1},this.modules=[{name:"Dashboard & Clients",screens:[{screenName:"Dashboard",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Manage Clients >> Grid View",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Clients >> Setup Password",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Clients >> View Projects",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Clients >> Manage Contacts",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1}]},{name:"Projects",screens:[{screenName:"Grid View >> Manage Projects",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Grid View >> Handover",cancel:!1,import:!1,export:!0,email:!1,report:!1,print:!1},{screenName:"Grid View >> Reports >> Daily",cancel:!1,import:!1,export:!0,email:!1,report:!1,print:!1},{screenName:"Grid View >> Reports >> Weekly",cancel:!1,import:!1,export:!0,email:!1,report:!1,print:!1},{screenName:"Grid View >> Reports >> Monthly",cancel:!1,import:!1,export:!0,email:!1,report:!1,print:!1},{screenName:"Grid View >> Notes",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Grid View >> Docs",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Grid View >> BOM",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Grid View >> Details >> Overview",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Grid View >> Details >> Addresses",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Grid View >> Details >> Certificates",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Summary Report",cancel:!1,import:!1,export:!1,email:!1,report:!0,print:!1}]},{name:"Purchase - Procurement",screens:[{screenName:"Purchases >> Procurement >> Purchase Indents",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Purchases >> Procurement >> Purchase Indents >> Items",cancel:!1,import:!0,export:!0,email:!1,report:!1,print:!1},{screenName:"Purchases >> Procurement >> RFQ",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Purchases >> Procurement >> RFQ >> Job Codes",cancel:!1,import:!0,export:!0,email:!1,report:!1,print:!1},{screenName:"Purchases >> Procurement >> RFQ >> Quotas",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Purchases >> Procurement >> RFQ >> PI Docs",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Purchases >> Procurement >> RFQ >> Quotation Docs",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Purchases >> Procurement >> Quotations",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Purchases >> Procurement >> Quotations >> Items&Quotes",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Purchases >> Procurement >> Purchase Order",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Purchases >> Procurement >> Purchase Order >> Indent",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Purchases >> Procurement >> Purchase Order >> Items",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Purchases >> Procurement >> Purchase Orders >> Assets",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Purchases >> Procurement >> Purchase Orders >> Terms",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Purchases >> Procurement >> Consignments",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1}]},{name:"Purchase - Store Management",screens:[{screenName:"purchases >> Store management >> GRN",cancel:!1,import:!1,export:!1,email:!1,report:!0,print:!1},{screenName:"purchases >> Store management >> Stock Transfer",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"purchases >> Store management >> Stock Transfer >> Notes",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"purchases >> Store management >> Stock Transfer >> Items & Quantities",cancel:!1,import:!0,export:!0,email:!1,report:!1,print:!1},{screenName:"purchases >> Store management >> Material Issues",cancel:!1,import:!0,export:!0,email:!1,report:!1,print:!1},{screenName:"purchases >> Store management >> Material Issues >> Notes",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"purchases >> Store management >> Items",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1}]},{name:"Purchase - Inventory Control",screens:[{screenName:"Purchases >> Inventory Control >> Opening Stock",cancel:!1,import:!0,export:!0,email:!1,report:!1,print:!1},{screenName:"Purchases >> Inventory Control >> Stock Reconcilliation",cancel:!1,import:!0,export:!0,email:!1,report:!1,print:!1},{screenName:"Purchases >> Inventory Control >> Stock Reconcilliation >> Items",cancel:!1,import:!1,export:!0,email:!1,report:!1,print:!1},{screenName:"Purchases >> Inventory Control >> Stock Reconcilliation >> Variance",cancel:!1,import:!1,export:!0,email:!1,report:!1,print:!1},{screenName:"Purchases >> Inventory Control >> Stock Adjustments",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Purchases >> Inventory Control >> Inventory Analysis",cancel:!1,import:!1,export:!0,email:!1,report:!1,print:!1},{screenName:"Purchases >> Inventory Control >> Reorder Levels",cancel:!1,import:!0,export:!0,email:!1,report:!1,print:!1}]},{name:"Purchase - Service Contracts",screens:[{screenName:"Purchases >> Service Contracts >> Service Indent",cancel:!1,import:!0,export:!0,email:!1,report:!1,print:!1},{screenName:"Purchases >> Service Contracts >> RFQ",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Purchases >> Service Contracts >> RFQ >> Job Codes",cancel:!1,import:!0,export:!0,email:!1,report:!1,print:!1},{screenName:"Purchases >> Service Contracts >> RFQ >> Quotes",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Purchases >> Service Contracts >> PI Docs",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Purchases >> Service Contracts >> RFQ >> Quotations >> Job Codes & Quotes",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Purchases >> Service Contracts >> Workorders",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Purchases >> Service Contracts >> Workorders >> Indent",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Purchases >> Service Contracts >> Job Codes",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Purchases >> Service Contracts >> Terms",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Purchases >> Service Contracts >> Service Challans >> Items",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Purchases >> Service Contracts >> ARN",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Purchases >> Service Contracts >> ARN >> Invoices",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Purchases >> Service Contracts >> Assets",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Purchases >> Service Contracts >> Approve",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1}]},{name:"Purchase - Setup",screens:[{screenName:"Purchases >> Setup >> Item Master",cancel:!1,import:!0,export:!0,email:!1,report:!1,print:!1},{screenName:"Purchases >> Setup >> Categories",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Purchases >> Setup >> Brands",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Purchases >> Setup >> Stores",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Purchases >> Setup >> Unit Master",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Purchases >> Setup >> Job Codes",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Purchases >> Setup >> Vendors",cancel:!1,import:!0,export:!0,email:!1,report:!1,print:!1},{screenName:"Purchases >> Setup >> Terms Master",cancel:!1,import:!0,export:!0,email:!1,report:!1,print:!1},{screenName:"Purchases >> Setup >> Terms Template",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Purchases >> Setup >> Assets Master",cancel:!1,import:!0,export:!0,email:!1,report:!1,print:!1}]},{name:"Purchase - Rentals",screens:[{screenName:"Purchases >> Rentals",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Purchases >> Rentals >> Assets",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Purchases >> Rentals >> Docs",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Purchases >> Rentals >> Invoices",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1}]},{name:"Assets",screens:[{screenName:"Assets >> Assets Master",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Assets >> Assets Master >> Licenses",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Assets >> OEM",cancel:!1,import:!0,export:!0,email:!1,report:!1,print:!1},{screenName:"Assets >> OEM >> Notes",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Assets >> OEM >> QHS",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Assets >> OEM >> Statutory",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Assets >> OEM >> Business Category",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Assets >> OEM >> Documents",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Assets >> OEM >> More",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Assets >> Class Master",cancel:!1,import:!0,export:!0,email:!1,report:!1,print:!1},{screenName:"Assets >> Indent",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Assets >> Indent > Assets",cancel:!1,import:!0,export:!0,email:!1,report:!1,print:!1},{screenName:"Assets >> Warranty >> AMC",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1}]},{name:"Vendor-Mgmt",screens:[{screenName:"Vendor Management >> Grid",cancel:!1,import:!1,export:!0,email:!1,report:!1,print:!1},{screenName:"Vendor Management >> Payables >> Invoices",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1}]},{name:"Finance",screens:[{screenName:"Finance",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Finance >> Invoices",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1}]},{name:"Admin",screens:[{screenName:"Admin >> ManageUser",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Admin >> ManageUser >> Project Permissions",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Admin >> ManageUser >> Special Permissions",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Admin >> ManageUser >> Roles",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Admin >> ManageUser >> Roles >> Screen Permissions",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Admin >> Master Data >> Handover Master",cancel:!1,import:!1,export:!0,email:!1,report:!1,print:!1},{screenName:"Admin >> Master Data >> Service Performance",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Admin >> Master Data >> Supply Performance",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Admin >> Loopup Options",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Admin >> Settings",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Admin >> Notifications",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Admin >> Kanban",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1},{screenName:"Admin >> Event Log",cancel:!1,import:!1,export:!1,email:!1,report:!1,print:!1}]}],this.selectedModule=this.modules[0]}ngOnInit(){console.log("load roles")}goback(){this._location.back()}getPermissions(t){this.service.getRolePermissionsbyModule(t).subscribe(r=>{console.log(r),this.items=r.Data,this.roleName=this.items[0].RoleName})}recordChange(t){}saveUserPermissions(){this.service.saveRolePermissions(this.items).subscribe(t=>{null!=t&&t.Success?(this.alertService.createAlert("Permissions Saved Successfully",1),this.getPermissions(this.roleId)):this.alertService.createAlert("Something Went Wrong! Please Try Again Later",0)})}next(){let t=0;this.modules.forEach((r,a)=>{this.selectedModule.name===r.name&&(t=a)}),t!=this.modules.length-1&&(this.selectedModule=this.modules[t+1])}previous(){let t=0;this.modules.forEach((r,a)=>{this.selectedModule.name===r.name&&(t=a)}),0!=t&&(this.selectedModule=this.modules[t-1])}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(c.Ye),e.Y36(m.F0),e.Y36(m.gz),e.Y36(c.Ye))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-permission"]],decls:42,vars:2,consts:[["fxLayout","row wrap"],[1,"col-12"],["mat-raised-button","",1,"pull-right","btn-default","margin-right-10",3,"click"],["mat-raised-button","","color","primary",1,"pull-right","margin-right-10",3,"click"],[1,"col-3"],[1,"pills"],[1,"nav","nav-pills",2,"margin-top","12px","margin-left","10px","margin-bottom","25px"],["class","col-12",3,"ngClass",4,"ngFor","ngForOf"],[1,"col-9"],[1,"table-responsive","flex-p"],["id","example2",1,"table","table-bordered","table-hover",2,"margin-top","15px"],[1,"tbl-head"],[1,"tr-grid-header"],[1,"style"],[4,"ngFor","ngForOf"],[1,"col-12",3,"ngClass"],["mat-raised-button","",1,"navtabWidth",2,"margin-top","10px","width","280px","text-align","left",3,"click"],["type","checkbox"],[2,"width","200px"],["multiple","","placeholder","Select",1,"form-control"],[4,"ngIf"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"button",2),e.NdJ("click",function(){return r.goback()}),e.TgZ(3,"mat-icon"),e._uU(4,"arrow_back_ios"),e.qZA(),e._uU(5," Back "),e.qZA(),e.TgZ(6,"button",2),e.NdJ("click",function(){return r.previous()}),e.TgZ(7,"mat-icon"),e._uU(8,"keyboard_backspace"),e.qZA(),e._uU(9," Previous "),e.qZA(),e.TgZ(10,"button",2),e.NdJ("click",function(){return r.next()}),e.TgZ(11,"mat-icon"),e._uU(12,"arrow_right_alt"),e.qZA(),e._uU(13," Next "),e.qZA(),e.TgZ(14,"button",3),e.NdJ("click",function(){return r.saveUserPermissions()}),e.TgZ(15,"mat-icon"),e._uU(16,"save"),e.qZA(),e._uU(17," Save "),e.qZA(),e.qZA(),e.TgZ(18,"div",4),e.TgZ(19,"div",5),e.TgZ(20,"ul",6),e.YNc(21,qe,3,4,"li",7),e.qZA(),e.qZA(),e.qZA(),e.TgZ(22,"div",8),e.TgZ(23,"div",9),e.TgZ(24,"table",10),e.TgZ(25,"thead",11),e.TgZ(26,"tr",12),e.TgZ(27,"th"),e._uU(28,"Screen Permissions"),e.qZA(),e.TgZ(29,"th",13),e._uU(30,"Create"),e.qZA(),e.TgZ(31,"th",13),e._uU(32,"Read"),e.qZA(),e.TgZ(33,"th",13),e._uU(34,"Update"),e.qZA(),e.TgZ(35,"th",13),e._uU(36,"Delete"),e.qZA(),e.TgZ(37,"th",13),e._uU(38,"Misc"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(39,"tbody"),e.YNc(40,Oe,20,8,"tr",14),e._UZ(41,"tr"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(21),e.Q6J("ngForOf",r.modules),e.xp6(19),e.Q6J("ngForOf",null==r.selectedModule?null:r.selectedModule.screens))},directives:[d.xw,f.lW,g.Hw,c.sg,c.mk,h.oO,f.zs,Z.gD,c.O5,v.ey],styles:[".style[_ngcontent-%COMP%]{text-align:center!important}"]}),s})(),data:{breadcrumb:"Permissions",description:"This page is used to Permission"}}];let Ee=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[[c.ez,m.Bz.forChild(P),o.UX,be.m]]}),s})()}}]);